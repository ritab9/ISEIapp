{% extends 'accreditation_base.html' %}

{% block title %} ISEI Standards {% endblock title %}


{% block content %}

    <div class="container my-4">
        {% if not school %}
            <button type="button" class="btn btn-sm btn-outline-secondary mb-2"
                    onclick="toggleSchoolTypes()">
                Toggle School Type
            </button>
        {% endif %}

        <div class="card card-body mx-auto" style="max-width: 1000px;">

            <h5>ISEI-EA Accreditation Standards</h5>
                <hr>
                    {% for standard in standards %}
                        <h6 class="page-break-before">{{ standard.number|floatformat:"0"  }}. {{ standard.name }}</h6>
                        <hr>

                        {% for substandard in standard.substandards.all %}
                            <h7 style="margin-left: 20px;">{{ substandard.number }}. {{ substandard.name }}</h7>

                            {% for indicator in substandard.filtered_indicators %}
                                <p>{{ substandard.number }}.{{ forloop.counter }}. {{ indicator.description }}
                                    {% if not school %}
                                        <span class="school-type hidden small">({{ indicator.school_type }})</span>
                                    {% endif %}
                                </p>
                                <p class="mr-5 text-muted">{{ indicator.description }}</p>
                            {% endfor %}
                        {% endfor %}

                        {% for indicator in standard.filtered_indicators %}
                            <p>{{ standard.number|floatformat:"0"  }}.{{ forloop.counter }}. {{ indicator.description }}
                                    {% if not school %}
                                        <span class="school-type hidden small">({{ indicator.school_type }})</span>
                                    {% endif %}
                            </p>
                            <p class="mr-5 col text-muted">{{ indicator.description }}</p>
                        {% endfor %}

                        <hr>
                    {% endfor %}


            <p class="text-center"> As of April, 2025</p>
        </div>
    </div>

    <script>
        function toggleSchoolTypes() {
            document.querySelectorAll('.school-type').forEach(el => {
                el.classList.toggle('hidden');
            });
        }

    </script>


{% endblock %}
